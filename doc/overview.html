<!DOCTYPE html>
<html>
<head>
    <title>Plot Overview</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>


Plot draws a theatrical lighting plot in SVG from an XML description.

A <code>Venue</code> can be described, with a <code>Stage</code> or <code>Proscenium</code>.
<code>Truss</code> and <code>Pipe</code> can be <code>suspend</code>ed from <code>HangPoint</code>s
or set on <code>Base</code>s.
And <code>Luminaire</code>s can be hung on a <code>Pipe</code> or <code>Truss</code>


When a <code>Proscenium</code> has been defined, it creates an inner coordinate system whose origin
is the center of the proscenium arch at the stage level.

<code>Venue</code>, <code>Proscenium</code>, <code>Stage</code>, and <code>HangPoint</code> use the
main coordinate system.

<code>Pipe</code>, <code>Truss</code>, and <code>base</code> use the inner coordinate system if one
has been defined.

<code>Suspend</code> and <code>Luminaire</code> are relative to what they are attached to.


Because I don't know if any particular XML element will be parsed before or after a
<code>Proscenium</code> definition activates the inner coordinate system, certain sanity checks are
postponed until after all XML is parsed.


<h2>Software Debt</h2>
No software is perfect. In the interest of taking a finite amount of time to
complete each release I have incurred a bit of debt. I hope to address these
issues shortly:
<ul>
    <li>Not enough tests are written - mostly because they require facilities of
        <code>testng</code> or <code>jmockit</code> that I do not yet understand.
        (0.0.1)
    </li>
    <li>Locations of input and output files are hard-coded into the program.
        There should be a facility for specifying these locations either on the
        command line or in a configuration file, or perhaps both. (0.0.1)
    </li>
    <li>Uche Ogbuji suggests in
        <a href="http://www.ibm.com/developerworks/xml/library/x-eleatt/index.html">
            Principles of XML design: When to use elements versus attributes</a>
        considerations that lead me to think that 'name' should not be an attribute
        of the {@code venue} tag, but should instead be a child of it. (0.0.5)
    </li>
</ul>

<h2>Outstanding Issues</h2>
<ul>
    <li>MobileTheaterTech web site is not yet configured. (0.0.1)</li>
    <li>Firefox 20.0 (on Mac OS X 10.8.2) fails to draw a the bottom part
        of a 1296 X 1320 rectangle. Opera 12.15 & Safari 6.0.2 display this just
        fine. (0.0.2)
    </li>
</ul>

<h2>Business Logic Debt</h2>
Likewise, not every feature I could want is present in the software.
<ul>
    <li>Of the Venue elements, only the outer perimeter of the room is supported.
        (0.0.2)
    </li>
    <li>Of the Plot elements, only {@code Stage} is supported. (0.0.3)</li>
    <li>It would be really nice if a bit of SVG animation showed the name (and
        other values?) of any given plot item. (0.0.5)
    </li>
    <li>The {@link com.mobiletheatertech.plot.Truss} representation is wrong.
        If I am representing
        individual pieces of gear, the length needs to be limited. If I am
        representing assemblies of truss segments, I should implement some means of
        breaking out the individual parts.
    </li>
</ul>

General flow is to Read in XML description of plot, then write out
SVG drawing.

The Read stage involves parsing the XML plot description, then
running {@code verify()} on each {@code Minder} object. These are
separate steps because it is possible that a given plot element needs
information from other elements to be completely formed. E.g. a Truss
needs information from a pair of {@code Suspend}s to locate itself in
space.

A solution that has the Truss constructor searching attempting
to ferret out subordinate elements is too clunky and complex and
requires that...

It is easier to find one's single parent and perform some task
depending on what is found than it is to search out some set of
data from an arbitrary number of potential children.

<h2>Versions</h2>

<h3>0.0.14 Fixes to correctly locate a <code>Luminaire</code> when a <code>Proscenium</code> is in
    use</h3>

<p>
    Fixed code in <code>Pipe</code>.
</p>

<p>
    Added MountingExceptions to be thrown when the mounting location is off the end of the pipe
    (under a variety of conditions)
    which involved code in <code>Pipe</code> to notice the errors and code in <code>Luminaire</code>
    to include data from an offending 'luminaire' specification to help a user find the problem.
</p>

<h3>0.0.13 Usability Tweaks</h3>

<p>
    Make there be scrollbars when the image (including legend area) is larger than the display area.
</p>

<p>
    Added a static <code>Legend.Widest()</code> method and cleaned up <code>Legend</code> in
    general.
</p>

<h3>0.0.12 <code>Opening</code></h3>

<p>
    An opening in a wall. E.g. a doorway without the door.
</p>

<p>
    Fixed <code>Pipe</code>'s positioning when used with a <code>Proscenium</code>.
</p>

<p>
    Added static <code>Venue.Name()</code> method to allow <code>Hack</code> to do different
    fixes, depending on the venue.
</p>

<h3>0.0.11 <code>Wall</code></h3>

<p>
    Draw wall sections.
</p>

<p>
    Cleaned up
</p>

<h3>0.0.10 <code>Grid</code></h3>

<p>
    Draw a grid to underlay the drawing.
</p>

<p>
    Cleaned up <code>Venue</code>, <code>Proscenium</code>, and <code>Write</code>.
</p>

<h3>0.0.9 <code>ChairBlock</code></h3>

<p>
    Lay out a block of chairs on the plot.
    Hard-coded in is the amount of space that a single chair occupies and the space it needs.
    Specified in the XML are the coordinates of one corner, the width of the block, and the depth of
    the block.
</p>

<p>
    Cleaned up error messages (and their tests) plus documentation for <code>Pipe</code>,
    <code>Luminaire</code>, and <code>LuminaireDefinition</code>.
</p>

<h3>0.0.8 <code>Airwall</code></h3>

<p>
    Given a single y coordinate, presume that the airwall stretches across the width of the room
    when deployed.
</p>

<h3>0.0.7</h3>

<p>
    Put a <code>Luminaire</code> on a <code>Pipe</code>.
</p>

<p>
    Created <code>LuminaireDefinition</code> which includes a name and the SVG to draw the lighting
    instrument.
</p>

<p>
    Created <code>Luminaire</code> which is a sub-element of a <code>Pipe</code> and includes the
    name of a <code>LuminaireDefinition</code> to draw, and a location along the <code>Pipe</code>.
</p>

<p>
    Split XML parsing methods out of <code>Minder</code> into <code>Elemental</code>. Of course
    <code>Minder</code> now extends <code>Elemental</code> so that everything that extends
    <code>Minder</code> continues to have those methods.
</p>

<h3>0.0.6</h3>

<p>
    Make a generic <code>Pipe</code> thingy. As a standalone thingy, it extends
    from a specified point straight towards stage left. Not very flexible, but
    I can do a lot with just that. The intent is that <code>Pipe</code> will become
    incorporated in things like <code>Truss</code> (which needs a lot of
    work) and <code>LineSet</code>
    (which doesn't actually exist yet) to provide the functionality of being able
    to attach things.
</p>

<p>
    <code>Point</code> gains a proper equality test. This is primarily for use
    in testing.
</p>

<p>
    <code>SizeException</code> added to complain about negative dimensions.
</p>

<p>
    <code>Box</code> created for specifying a volume of space.
</p>

<p>
    <code>Venue</code> gains a static <code>Contains( Box )</code> method to check that
    the <code>Box</code> is contained entirely within the <code>Venue</code>.
</p>

<h3>0.0.5</h3>

<p>
    Intended to add <code>Truss</code> and associated things like
    <code>Suspend</code>, this turned into a bit of a hodgepodge as
    I rushed to finish it so that I could use Plot to generate a useful
    drawing.
</p>

<h3>0.0.4</h3>

<h3>0.0.3</h3>

<h3>0.0.2</h3>

<h3>0.0.1</h3>

<p>
    Version 0.0.1 opens a file named as
    {$user.home}/Plot/plotfiles/{@code filename.xml},
    and writes out an SVG drawing as {$user.home}/Plot/out/{@code filename}.svg .
    In this version, no actual data is manipulated, but a hard-coded box is drawn
    and a title is inserted into the generated DOM to make sure I can do these
    things.
</p>
</body>
</html>
